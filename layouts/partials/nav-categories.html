<div x-data="{ blog: false }" class="relative mb-6 lg:hidden">
  <a href="#" @click.prevent="blog = ! blog" :class="{ 'text-violet-800': blog, 'text-secondary-900': !(blog) }" class="relative w-full lg:hidden text-lg font-semibold hover:text-secondary-500 mb-3 flex items-center">
    <span class="grow">Resources</span>
    <svg :class="{ 'text-violet-800': blog, 'text-primary': !(blog) }" class="text-secondary-900 ml-1 h-5 w-5 group-hover:text-violet-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
      <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
    </svg>    
    </a>
  <div x-show="blog" :class="{ 'block': blog, 'hidden': !(blog) }" 
    x-transition:enter="transition ease-out duration-200"
    x-transition:enter-start="opacity-0 translate-y-1"
    x-transition:enter-end="opacity-100 translate-y-0"
    x-transition:leave="transition ease-in duration-150"
    x-transition:leave-start="opacity-100 translate-y-0"
    x-transition:leave-end="opacity-0 translate-y-1"
    @click.outside="blog = false"
    class="absolute lg:relative z-10 w-full bg-white rounded-lg shadow-lg border px-3 pt-2 pb-5 hidden lg:block lg:shadow-none lg:p-0 font-medium">
      <div class="mt-3 pl-3"><a class="{{ if eq .Page.Permalink ("/resources/" | absURL) }}text-secondary-500{{ end }} capitalize hover:text-secondary-500" href="{{ "/resources/" | relURL }}">All Resources</a></div>
    {{ range site.Taxonomies.categories }}
      <div class="mt-3 pl-3"><a class="{{ if eq .Page.Permalink $.Permalink }}text-secondary-500{{ end }} capitalize hover:text-secondary-500" href="{{ .Page.Permalink }}">{{ .Page.Title }}</a></div>
    {{ end }}
  </div>
</div>

<div class="hidden lg:block pr-12">
  <h3 class="text-xs text-slate-500 font-medium uppercase tracking-widest pb-5 pl-3 mb-5 border-b border-secondary-300 inline-block">Resources</h3>
  <div>
    <a class="inline-flex capitalize px-3 py-2 rounded-md border border-white {{ if eq .Page.Permalink ("/resources/" | absURL) }}bg-secondary-500 text-white{{ else }} text-secondary-500 hover:border-slate-300{{ end }}" href="{{ "/resources/" | relURL }}">All Resources</a>
  </div>
  {{ range site.Taxonomies.categories }}
    <div class="mt-2">
      <a class="inline-flex capitalize px-3 py-2 rounded-md border border-white {{ if eq .Page.Permalink $.Permalink }}bg-secondary-500 text-white{{ else }} text-secondary-500 hover:border-slate-300{{ end }}" href="{{ .Page.Permalink }}">{{ .Page.Title }}</a>
    </div>
  {{ end }}
</div>
